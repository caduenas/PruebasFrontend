<div class="container">
    <div>
        @if (cadenaResult$ | async; as resulObject) {
            <ul class="list-group">
                @for (item of resulObject.usuarios ; track item.id) {
                    <li class="list-group-item">
                        <p>{{item.name}}</p>
                        <p>{{item.password}}</p>
                    </li>
                }
            </ul>
        }@else {
            
        }
    </div>
    <div class="mt-3 row"><h4>Agregar usuario</h4></div>
    <div class="mt-3 row">
        <div class="col-3">
            <p>Nombre</p>
        </div>
        <div class="col-8 row">
            <input type="text" name="Nombre" [(ngModel)]="datosNuevo.name">
        </div>
    </div>
    <div class="mt-3 row">
        <div class="col-3">
            <p>Contraseña</p>
        </div>
        <div class="col-8 row">
            <input type="password" name="Password"  [(ngModel)]="datosNuevo.password">
        </div>
        <div class="mt-4 row">
            <button class="btn btn-primary" (click)="enviarDatos();">Enviar</button>
        </div>
    </div>
    <div class="mt-3 row"><h4>Modificar usuario</h4></div>
    <div class="mt-4 row">
        <div class="col-3">
            <p>Seleccione una opcion</p>
        </div>
        <div class="col-8 row">
            @if (cadenaResult$ | async; as resulObject) {
                <select [(ngModel)]="UsuarioseleccionadoEdit">
                    @for (item of resulObject.usuarios; track item.id) {
                        <option [value]="item.id">{{item.name}}</option>
                    }    
                </select>
            }    
        </div> 
    </div>
    <div class="row mt-3">
        <div class="col-3">
            <p>Nombre</p>
        </div>
        <div class="col-8 row">
            <input type="text" name="Nombre" [(ngModel)]="datosEdit.name">
        </div>
    </div>
    <div class="row mt-3">
        <div class="col-3">
            <p>Contraseña</p>
        </div>
        <div class="col-8 row">
            <input type="password" name="Password" [(ngModel)]="datosEdit.password">
        </div>
        <div class="mt-4 row">
            <button class="btn btn-primary" type="button" (click)="actualizardatos()">Actualizar</button>
        </div>
    </div>
    <div class="mt-3 row"><h4>Eliminar usuario</h4></div>
    <div class="mt-4 row">
        <div class="col-3">
            <p>Seleccione una opcion</p>
        </div>
        <div class="col-8 row">
            @if (cadenaResult$ | async; as resulObject) {
                <select [(ngModel)]="UsuarioseleccionadoDelete">
                    @for (item of resulObject.usuarios; track item.id) {
                        <option [value]="item.id">{{item.name}}</option>
                    }    
                </select>
            }    
        </div>
        <div class="mt-4 row">
            <button class="btn btn-primary" type="button" (click)="eliminarDatos()">Eliminar</button>
        </div> 
    </div>
</div>
